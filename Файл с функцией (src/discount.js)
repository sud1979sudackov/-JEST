/**
 * Calculates final price after discount
 * @param {number} originalPrice - Original product price
 * @param {number} discountPercentage - Discount percentage (0-100)
 * @returns {number} Final price after discount
 * @throws {Error} If input is invalid
 */
function calculateDiscount(originalPrice, discountPercentage) {
  if (originalPrice <= 0 || discountPercentage < 0 || discountPercentage > 100) {
    throw new Error("Invalid input data");
  }
  
  const discountAmount = (originalPrice * discountPercentage) / 100;
  const finalPrice = originalPrice - discountAmount;
  
  // Round to 2 decimal places for currency
  return Math.round(finalPrice * 100) / 100;
}

module.exports = { calculateDiscount };
